{
  "kind": "feature_evidence_report",
  "features": [
    {
      "featureId": "feature-on-the-employee-dashboard-employeedashboard-tsx-and-proofuploadbutton-tsx-add-a-proof-upload-button-and-a-mark-as-completed-button-to-each-task-card-where-the-task-status-is-yellow-in-progress-or-rejected-the-mark-as-completed-button-must-only-be-enabled-after-a-proof-file-has-been-selected-and-uploaded-after-successful-submission-the-task-card-must-immediately-reflect-the-pending-review-status-badge-blue-the-employee-must-also-be-able-to-view-their-own-previously-uploaded-proof-file-displayed-as-an-inline-link-or-thumbnail-within-their-task-card-no-changes-to-the-existing-design-theme-spacing-or-layout-are-permitted-beyond-adding-these-controls",
      "featureTitle": "On the Employee Dashboard (EmployeeDashboard.tsx and ProofUploadButton.tsx), add a proof upload button and a 'Mark as Completed' button to each task card where the task status is Yellow (In Progress) or Rejected. The 'Mark as Completed' button must only be enabled after a proof file has been selected and uploaded. After successful submission the task card must immediately reflect the 'Pending Review' status badge (Blue). The employee must also be able to view their own previously uploaded proof file displayed as an inline link or thumbnail within their task card. No changes to the existing design theme, spacing, or layout are permitted beyond adding these controls.",
      "files": [
        "frontend/src/components/ProofUploadButton.tsx",
        "frontend/src/components/TaskCard.tsx",
        "frontend/src/pages/EmployeeDashboard.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "blob-storage@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0"
      ],
      "testIds": [
        "REQ-37"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-on-the-admin-dashboard-admindashboard-tsx-globaltasklist-tsx-taskcard-tsx-add-an-admin-only-proof-review-panel-within-each-task-card-or-expanded-task-detail-that-has-a-prooffile-present-the-panel-must-display-employee-name-submission-date-time-formatted-as-human-readable-string-an-uploaded-proof-preview-image-thumbnail-or-pdf-icon-with-filename-an-approve-button-calls-adminreviewtask-with-approved-and-a-mark-incomplete-button-that-opens-a-modal-requiring-a-non-empty-review-comment-before-submission-calls-adminreviewtask-with-rejected-and-the-comment-after-admin-action-the-task-card-must-immediately-reflect-the-updated-status-badge-green-for-approved-yellow-in-progress-for-rejected-these-admin-controls-must-be-completely-hidden-for-manager-and-employee-roles",
      "featureTitle": "On the Admin Dashboard (AdminDashboard.tsx, GlobalTaskList.tsx, TaskCard.tsx), add an Admin-only Proof Review Panel within each task card or expanded task detail that has a proofFile present. The panel must display: Employee Name, Submission Date & Time (formatted as human-readable string), an uploaded proof preview (image thumbnail or PDF icon with filename), an 'Approve' button (calls adminReviewTask with #approved), and a 'Mark Incomplete' button that opens a modal requiring a non-empty review comment before submission (calls adminReviewTask with #rejected and the comment). After admin action, the task card must immediately reflect the updated status badge (Green for Approved, Yellow/In Progress for Rejected). These admin controls must be completely hidden for Manager and Employee roles.",
      "files": [
        "frontend/src/components/ProofReviewPanel.tsx",
        "frontend/src/components/RejectTaskModal.tsx",
        "frontend/src/components/TaskCard.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "blob-storage@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0"
      ],
      "testIds": [
        "REQ-38"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-update-the-react-query-hooks-in-usequeries-ts-to-add-1-an-uploadproof-mutation-hook-that-calls-the-backend-uploadproof-mutation-with-taskid-and-file-data-2-a-markcomplete-mutation-hook-that-calls-the-backend-markcomplete-mutation-with-taskid-3-an-adminreviewtask-mutation-hook-that-calls-the-backend-adminreviewtask-mutation-with-taskid-decision-and-optional-reviewcomment-all-three-hooks-must-invalidate-the-relevant-task-list-queries-on-success-proof-related-fields-in-task-query-responses-must-only-be-stored-and-consumed-client-side-when-the-authenticated-user-is-admin-or-the-task-s-own-assignee",
      "featureTitle": "Update the React Query hooks in useQueries.ts to add: (1) an uploadProof mutation hook that calls the backend uploadProof mutation with taskId and file data; (2) a markComplete mutation hook that calls the backend markComplete mutation with taskId; (3) an adminReviewTask mutation hook that calls the backend adminReviewTask mutation with taskId, decision, and optional reviewComment. All three hooks must invalidate the relevant task list queries on success. Proof-related fields in task query responses must only be stored and consumed client-side when the authenticated user is Admin or the task's own assignee.",
      "files": [
        "frontend/src/hooks/useQueries.ts"
      ],
      "components": [
        "authorization@4.0.0",
        "blob-storage@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0"
      ],
      "testIds": [
        "REQ-39"
      ],
      "confidence": "high"
    }
  ]
}